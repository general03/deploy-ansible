# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the master branch
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2

      - name: Run a multi-line script
        run: |
          python -m pip install --user ansible
          export PATH=$PATH:~/.local/bin
          
          echo '-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAACFwAAAAdzc2gtcn
NhAAAAAwEAAQAAAgEAyOkjjEiSSQnbaReJ4TLR6q31p04A5RRugzEkrPQvSR7yWZx87owG
+/zHrBlocohl6HR/wwxO6XcxNTbTYXTdXhrPTu/okOTUe75EHy4UMDA51DcXpY7Sow4bC2
ORwzqe6ARHh6+ADQGFbqsrRcT05Rtf0TMwp2Mvn6uiLuUMch8ucWI9FULHi8RzaG0Mo/nl
yEzP8agKV6yTU9lhw/s9udFANltlWTvpprsrw0v41yPwZgvp6q0r11d+euwAknFzpBNGTE
Xn2uS3Nvx7DqPr0SzfzT0OiPv0DwKL0gr++epQMLjLtWXdVCyd4gTYFYr6WmliGbTy8zSp
e4mhAj8dNAN+5g7lzvVOSvAbb3pPmvF1I25vU+gcAUSUL/LyUOMm9IZKcGfF4HgAbGM7ji
4qDz3+VZF96Qxo6+9c+cLZNIHVva1Wh9ZjpdTbhXRV1q+dyUsUH5LWbGXMKejGEnoQ3Ev4
3Nmq4r9EbCrAdg9PghZAD9/LVBRNVEJ0faGfq31EQVoD2hyxZAc5q6wfDGr08g9NNJiJvS
6/Utzbe/vT1O6dfJ0jtgK3vF1J+7gFXE7d55bPQexRkl96cEv2yBUKUrvfHVZiDZcD6Tcg
1GueObTsHSuGGKILn6yRy8kkJp1fXuHirNCRg9JKK9jpW+p/yEsmr5Ngox0Sy0NYBetsLG
kAAAdICLiV/Qi4lf0AAAAHc3NoLXJzYQAAAgEAyOkjjEiSSQnbaReJ4TLR6q31p04A5RRu
gzEkrPQvSR7yWZx87owG+/zHrBlocohl6HR/wwxO6XcxNTbTYXTdXhrPTu/okOTUe75EHy
4UMDA51DcXpY7Sow4bC2ORwzqe6ARHh6+ADQGFbqsrRcT05Rtf0TMwp2Mvn6uiLuUMch8u
cWI9FULHi8RzaG0Mo/nlyEzP8agKV6yTU9lhw/s9udFANltlWTvpprsrw0v41yPwZgvp6q
0r11d+euwAknFzpBNGTEXn2uS3Nvx7DqPr0SzfzT0OiPv0DwKL0gr++epQMLjLtWXdVCyd
4gTYFYr6WmliGbTy8zSpe4mhAj8dNAN+5g7lzvVOSvAbb3pPmvF1I25vU+gcAUSUL/LyUO
Mm9IZKcGfF4HgAbGM7ji4qDz3+VZF96Qxo6+9c+cLZNIHVva1Wh9ZjpdTbhXRV1q+dyUsU
H5LWbGXMKejGEnoQ3Ev43Nmq4r9EbCrAdg9PghZAD9/LVBRNVEJ0faGfq31EQVoD2hyxZA
c5q6wfDGr08g9NNJiJvS6/Utzbe/vT1O6dfJ0jtgK3vF1J+7gFXE7d55bPQexRkl96cEv2
yBUKUrvfHVZiDZcD6Tcg1GueObTsHSuGGKILn6yRy8kkJp1fXuHirNCRg9JKK9jpW+p/yE
smr5Ngox0Sy0NYBetsLGkAAAADAQABAAACABKNlP7LZNbh1iUqS01EiCYH0nuUtHhzHpF2
5FAkbIlwFik4TkEpJSv39+hooECTX/XLbFDyvgbJPv4PBg4l4JtkFmjPtsZKm2Sh+WB3vN
2GVpDGVaSwP7tW/iBbHYbNzwbV/lUFW+nXjh7eJ6zVt1fA42RKOd/7RNaV3vA9rpyLTJqj
28gu1oaNqaqnB1fNJ+8LSNikD/Bwu1ou5NxYQyb5r9hVMFLBOZ5wAmaSiXQ0mWqTBxLo0v
eb2M45JQRg/bDVJtS8T+Di5hhp0GNVt90lK7WkQcdcnPkV3xuScGFbxfP53LXvpjSzuhC5
KcszflMDEFAXaagT4OLLnta6RVPyYv9+6K2iXKaK8rTBLjM3qmnDHkRLHvs0PPTnvKV3Gr
iWaV1kgQmCKCUS+HTNod48Oe3yZO2eyWnPvNIE8MTLZ6IyTAGKj96WaNe0qFOkfNf417U4
Mku0tdJxUq3aF7rHZByqoUuyXfw8Xjebm7Jfmzu4JREt8ghEc4AKbLGSSrnrjd/CzDVCJH
4QNy2D1zG1Gimf95KmrGN9B0CwPt5pX1l4U3LRfJdXEZfiLhOqzQ6V+IQnAY6YsylFn0BW
2zW079hoOUL4YFNK0IRPReitqruXWcTgIE/OsDLmVCw3l9j9MIAD4S4FPi9wYukla/4VPl
O3MPLS11LLwBLYattBAAABAGE6ngCmY2KqG6FzdGMQ9p/GYFWZIdWMYXgUab7aKCIZ0oDo
LMU4Zl6VBAhh96A75r6fDyRPI66DmLR+VH0ZWbvT3klGwAb3W1e5qsJXMalTFdIYLGS+MZ
UTwMRLCvPf/inLXeVFRnP9LfzYhifJmR2PUyt4CXff9zSGZRrPPOKmCgKcSHSgF5SynY+i
iHZA4wVvM1wxvHs7ysQeQErbg2CLkAjLP3UH2Av8MNed7ENnzphbH+PWG8tqSFEKqZghX3
bPhla8c7MWKO8ASCke4/pit1JF+saaUioAC1aURH5A8UsNgSYudTKvCVyQwn/ZS8kv4iR8
HcZr0qWCk0ZJOzoAAAEBAOwvuk6OATxCt8ZqpByJdkSdzpttyy0ysrguXUu/InsjfeQff6
IidJBDmQoMAFGx9UlkVR33vChloy9ryAxBnvIr7ra74JlJOaGnz/4fweG9GKSJUexolgcI
jAvZ7ozyFxWjs5V+Ok9WqcKguJQcvVltYyF8Ub3JQX/dG3HYWgif+/je+Yjw8l2DZhfYrh
2JGvXpgH963dparK6PixiKqJu3xFlRui5tSgaOhPfxhTQcXtBlDvSIXICAeV4hSyxjFh1R
pLZl7XMh/LUP+Cxq75PbuxENPV5/5oVIx8qra6WqPysFRMhj21opOSQ0DegDF0OqzHR6Z+
AvmCbkkG/eNaUAAAEBANnD1ua+fDV63s/2Ldh9CCusH/gPQ6NBBf6Z41/mpuMu9f5MnqF+
9VR2o9cs20Q+v4ORnnh6f/rlT3gXBU7scwl4Kj/xoQnx72crqr0a08v+9Rr3LGgDwMEsjo
B9206DPQsQdqTfvhvvLA6utyTEMmiplm9tlA+ngwEJPAkAK22xHwsy8ykoKVCje1rdDXda
WNz9j3Xl+/+qGVimY/cZ2pcCs7XShwqhCs14rJDJpwO20OU/TTbTS27kOTjvzNnzsQXeSs
TMyJgnJArJqgDXPyYqN7cYEHtU57nP+GGphYKeQdlRmJOMf8I6zo61PWn9Tf6rDbHoAeNK
LGHe9eKGiHUAAAASZGF2aWRAZGF2aWQtbGFwdG9wAQ==' > /home/david/.ssh/deploy-ansible-rvb
          
          ansible-galaxy collection install community.crypto
          ansible-playbook deploy/ansible/deploy.yml -i deploy/ansible/inventory -vvvv
  
